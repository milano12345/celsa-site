!function($){var $window=$(window),$body=$("body");breakpoints({xlarge:["1281px","1680px"],large:["981px","1280px"],medium:["737px","980px"],small:[null,"736px"]}),$window.on("load",(function(){window.setTimeout((function(){$body.removeClass("is-preload")}),100)})),$("#nav > ul").dropotron({mode:"fade",noOpenerFade:!0,speed:300}),$('<div id="navToggle"><a href="#navPanel" class="toggle"></a></div>').appendTo($body),$('<div id="navPanel"><nav>'+$("#nav").navList()+"</nav></div>").appendTo($body).panel({delay:500,hideOnClick:!0,hideOnSwipe:!0,resetScroll:!0,resetForms:!0,side:"left",target:$body,visibleClass:"navPanel-visible"})}(jQuery);var wheel=Draggable.create("#wheel",{type:"rotation",throwProps:!0,snap:function(endValue){return 90*Math.round(endValue/90)},onDrag:function(){},onThrowComplete:function(){dragActive()}});function dragActive(){var rot=wheel[0].rotation/360,decimal=rot%1,sliderLength=$("#wheel li").length,tempIndex=Math.round(sliderLength*decimal),index;index=rot<0?Math.abs(tempIndex):sliderLength-tempIndex,0===decimal&&(index=0),TweenMax.staggerTo("#wheel li.active .details > *",.6,{opacity:0,y:-10},.1),$("#wheel li.active").removeClass("active"),$($("#wheel li")[index]).addClass("active"),TweenMax.staggerTo("#wheel li.active .details > *",.6,{opacity:1,y:0},.1)}function rotateDraggable(deg,callback){var rot=wheel[0].rotation,tl;(new TimelineMax).to("#wheel",.5,{rotation:rot+deg,onComplete:function(){callback()}}),wheel[0].rotation=rot+deg}function nextHandler(){var current,item=$("#wheel li.active")+1;item>$("#wheel li").length&&(item=1),rotateDraggable(360/$("#wheel li").length,dragActive)}function prevHandler(){var current,item=$("#wheel li.active")-1;item>1&&(item=$("#wheel li").length),rotateDraggable(-360/$("#wheel li").length,dragActive)}TweenMax.set("#wheel li:not(.active) .details> *",{opacity:0,y:-10}),TweenMax.set("#wheel li:not(.active) .circle> *",{opacity:0,y:-10}),$(".next").on("click",nextHandler),$(".prev").on("click",prevHandler);var square='<svg x="0px" y="0px" width="1200px" height="600px" viewBox="0 0 1200 600"><rect x="0.002" y="0.499" width="1200" height="600"/></svg>';window.onload=function(){list=document.querySelectorAll(".modal__trigger"),console.log(list,"load");for(var i=0;i<list.length;i++)list[i].addEventListener("click",(function(e){e.preventDefault(),console.log("new click trigger")}))},window.onload=function(){list=document.getElementsByClassName(".modal__trigger");for(var i=0;i<list.length;i++)list[i].addEventListener("touchend",(function(e){e.preventDefault(),console.log("touched")})),list[i].addEventListener("clicked",(function(e){e.preventDefault(),console.log("clicked")}))};var Modal=function(){var trigger=$qsa(".modal__trigger"),modals=$qsa(".modal"),modalsbg=$qsa(".modal__bg"),content=$qsa(".modal__content"),closers=$qsa(".modal__close"),w=window,isOpen=!1,contentDelay=400,len=trigger.length;function $qsa(el){return document.querySelectorAll(el)}var getId=function(event){event.preventDefault();var self=this,modalId=this.dataset.modal,len=modalId.length,modalIdTrimmed=modalId.substring(1,len),modal=document.getElementById(modalIdTrimmed);makeDiv(this,modal)},makeDiv=function(self,modal){var fakediv;if(null===document.getElementById("modal__temp")){var div=document.createElement("div");div.id="modal__temp",self.appendChild(div),moveTrig(self,modal,div)}},moveTrig=function(trig,modal,div){var trigProps=trig.getBoundingClientRect(),m=modal,mProps=m.querySelector(".modal__content").getBoundingClientRect(),transX,transY,scaleX,scaleY,xc=w.innerWidth/2,yc=w.innerHeight/2;trig.classList.add("modal__trigger--active"),scaleX=mProps.width/trigProps.width,scaleY=mProps.height/trigProps.height,scaleX=scaleX.toFixed(3),scaleY=scaleY.toFixed(3),transX=Math.round(xc-trigProps.left-trigProps.width/2),transY=Math.round(yc-trigProps.top-trigProps.height/2),m.classList.contains("modal--align-top")&&(transY=Math.round(mProps.height/2+mProps.top-trigProps.top-trigProps.height/2)),trig.style.transform="translate("+transX+"px, "+transY+"px)",trig.style.webkitTransform="translate("+transX+"px, "+transY+"px)",div.style.transform="scale("+scaleX+","+scaleY+")",div.style.webkitTransform="scale("+scaleX+","+scaleY+")",window.setTimeout((function(){window.requestAnimationFrame((function(){open(m,div)}))}),400)},open=function(m,div){if(!isOpen){var content=m.querySelector(".modal__content");m.classList.add("modal--active"),content.classList.add("modal__content--active"),content.addEventListener("transitionend",hideDiv,!1),isOpen=!0}function hideDiv(){div.style.opacity="0",content.removeEventListener("transitionend",hideDiv,!1)}},close=function(event){event.preventDefault(),event.stopImmediatePropagation();var target=event.target,div=document.getElementById("modal__temp");if(isOpen&&target.classList.contains("modal__bg")||target.classList.contains("modal__close")){div.style.opacity="1",div.removeAttribute("style");for(var i=0;i<modals.length;i++)modals[i].classList.remove("modal--active"),content[i].classList.remove("modal__content--active"),trigger[i].style.transform="none",trigger[i].style.webkitTransform="none",trigger[i].classList.remove("modal__trigger--active");div.addEventListener("transitionend",removeDiv,!1),isOpen=!1}function removeDiv(){setTimeout((function(){window.requestAnimationFrame((function(){div.remove()}))}),350)}};function stopTouchendPropagationAfterScroll(){var locked=!1;function stopTouchendPropagation(ev){ev.stopPropagation(),window.removeEventListener("touchend",stopTouchendPropagation,!0),locked=!1}window.addEventListener("touchmove",(function(ev){locked||(locked=!0,window.addEventListener("touchend",stopTouchendPropagation,!0))}),!0)}var bindActions=function(){for(var i=0;i<len;i++)trigger[i].addEventListener("click",getId,!1),trigger[i].addEventListener("touchend",getId,stopTouchendPropagationAfterScroll(),!1),trigger[i].addEventListener("touchendoutside",getId,stopTouchendPropagationAfterScroll(),!1),closers[i].addEventListener("click",close,!1),closers[i].addEventListener("touchend",close,!1),modalsbg[i].addEventListener("click",close,!1),modalsbg[i].addEventListener("touchend",close,!1)},init;return{init:function(){bindActions()}}}();Modal.init();